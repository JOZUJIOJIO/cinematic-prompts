# Cinematic Prompts Generator v3.0 升级概述

## 🎯 核心变化

v3.0 是一次**架构级重构**，从"双模式生成"转变为"时长驱动的三层提示词系统"。

---

## 📊 v2.x vs v3.0 对比

| 特性 | v2.x | v3.0 |
|------|------|------|
| **工作流触发** | 用户提供剧本，手动决定镜头数 | 用户提供剧本+时长，自动计算画面数 |
| **工作模式** | 双模式（叙事分镜/单场景多视角） | 统一的时长驱动流程 |
| **提示词层次** | 图片提示词 + 视频提示词 | 画面提示词 + 镜头提示词 + 视频转换提示词 |
| **镜头选择** | 用户手动选择或生成9个景别 | AI自动选择1个最优景别（含理由） |
| **运镜库** | 12种基础定义 | 12种含速度参数和情绪定义 |
| **过渡效果** | 基础转场提及 | 10种标准过渡库含时长规范 |
| **BGM建议** | 无 | 10种氛围分类智能匹配 |
| **输出格式** | 每个场景独立 | 逐画面完整四步骤流程 |

---

## 🚀 三大核心创新

### 1. 时长驱动工作流

**v2.x 方式**：
```
用户：我想做一个科幻短片
系统：你需要几个镜头？
用户：嗯...8个吧
```

**v3.0 方式**：
```
用户：我想做一个60秒的科幻短片
系统：建议12个画面（60秒 ÷ 5秒/画面），是否确认？
用户：确认
系统：开始逐画面生成...
```

**优势**：
- 符合视频制作的自然思维（时长为先）
- 自动优化画面数量，保证节奏合理
- 用户可调整，灵活性不减

---

### 2. 三层提示词架构

**v2.x 结构**：
```
场景描述 → 图片提示词 + 视频提示词
```

**v3.0 结构**：
```
画面提示词（Scene Prompt）
    ↓
镜头提示词（Shot Prompt）- 动态生成7种景别
    ↓ (AI自动选择)
视频转换提示词（Video Prompt）- 含运镜/过渡/BGM
```

**工作原理**：
1. **画面提示词**：JSON格式的场景"母版"，包含scene_DNA
2. **镜头提示词**：画面内容 + 7种景别技术模板 = 7个完整提示词
3. **视频转换提示词**：选中镜头 + 运镜 + 过渡 + BGM

**示例**：
```
画面提示词：
{
  "scene_description": "月球表面荒凉景观，远处可见穹顶基地",
  "scene_DNA": {
    "environment_DNA": "(lunar surface:1.4), (dome base:1.3)..."
  }
}

↓ 动态生成7种镜头提示词

镜头1-EWS: [scene_DNA] + (Extreme long shot:1.3), (establishing composition:1.2)...
镜头2-LS:  [scene_DNA] + (Long shot:1.3), (full body visible:1.2)...
镜头3-MLS: [scene_DNA] + (Medium long shot:1.3)...
...

↓ AI自动选择

选择：EWS（远景）
理由：开场第一个画面，需要建立环境；场景以环境为主；宏大氛围适合远景

↓ 生成视频转换提示词

"Slow crane up shot, camera rising from lunar surface revealing dome base..."
运镜：Crane Up (0.3x)
过渡：Fade In (1秒)
BGM：史诗/科幻 - Hans Zimmer风格
```

---

### 3. 智能自动选镜系统

**四大选镜规则**：

#### 规则1：叙事节奏原则
- 开场（1-2画面）→ 远景/全景（建立环境）
- 发展（中间画面）→ 中景/中近景（展示互动）
- 高潮（接近结尾）→ 近景/特写（强化情绪）
- 结尾（最后1-2画面）→ 全景/远景（情绪收束）

#### 规则2：内容匹配原则
- 环境占比>70% → EWS/LS
- 人物动作为主 → LS/MLS
- 对话场景 → MS/MCU
- 情绪表达 → MCU/CU
- 细节道具 → ECU

#### 规则3：视觉多样性原则
- 连续3个画面不使用相同景别
- 推拉节奏：LS → MS → CU → MS → LS

#### 规则4：情绪强度匹配
- 低强度（平静）→ MS/LS
- 中强度（紧张）→ MCU/CU
- 高强度（爆发）→ CU/ECU

**输出示例**：
```
【自动选镜】画面3/12
选择景别：中近景 (MCU)
选择理由：
1. 叙事位置：发展阶段，适合展示情绪交流
2. 内容匹配：画面包含对话场景，MCU适合捕捉面部表情
3. 视觉节奏：上一画面为全景(LS)，需要推进至近景
4. 情绪强度：氛围为"紧张期待"，MCU能强化情绪
```

---

## 📚 新增的专业库

### 7种标准景别模板

每种景别包含：
- 画面特征描述
- 作用和常见用途
- 完整技术参数（焦距/光圈/景深）
- 技术描述模板（含权重）
- 适用场景建议

**示例：近景 (Close-Up / CU)**
```
技术参数：
- 焦距：85-100mm
- 光圈：f/1.4-f/2.8（浅景深）
- 景深：极浅，背景完全虚化

技术描述模板：
(Close-up:1.4), (face fills frame:1.3), (from shoulders up:1.2),
(eyes as focal point:1.3), (intense emotional moment:1.2),
(f/1.4-2.8 very shallow depth:1.3), (85-100mm focal length:1.1),
(creamy background blur:1.2), (facial details emphasized:1.2)

适用场景：情绪高潮、心理刻画、关键反应
```

---

### 12种标准运镜库

**基础运镜（6种）**：
1. **Static** - 固定镜头，稳定客观
2. **Pan** - 左右摇移，速度0.3x/0.5x/1.0x
3. **Tilt** - 上下倾斜，展示高度
4. **Dolly** - 推拉镜头，推进=紧张，拉远=揭示
5. **Truck** - 横向移动，跟随行走
6. **Crane** - 升降镜头，升=希望，降=压抑

**高级运镜（6种）**：
7. **Tracking** - 跟踪拍摄，沉浸动态
8. **Orbit** - 环绕主体，360度展示
9. **Dolly Zoom** - 推拉变焦，心理冲击（希区柯克式）
10. **Handheld** - 手持拍摄，真实纪实感
11. **Drone/Aerial** - 航拍，史诗宏大
12. **POV Walking** - 主观步行，第一人称沉浸

**每种运镜包含**：
- 描述
- 情绪定义
- 速度参数
- 适用场景

---

### 10种过渡效果库

**基础过渡（5种）**：
1. **Cut** - 直切，快速流畅
2. **Fade In/Out** - 淡入淡出（1-2秒），章节结束
3. **Dissolve** - 叠化（1-2秒），时间流逝
4. **Fade to White** - 淡至白场，梦境/闪回
5. **Wipe** - 划像（0.5-1秒），星战风格

**高级过渡（5种）**：
6. **Match Cut** - 匹配剪辑，视觉/形状相似性连接
7. **Jump Cut** - 跳切，时间压缩
8. **L Cut / J Cut** - 音频视频异步切换
9. **Defocus Transition** - 失焦过渡（1-1.5秒），梦幻
10. **Morph** - 变形过渡（1-2秒），魔幻超现实

---

### BGM智能匹配系统

**10种氛围分类**：

1. **史诗/壮观** → Hans Zimmer, 管弦乐，铜管弦乐大鼓
2. **浪漫/温馨** → Yiruma, 钢琴弦乐四重奏
3. **悬疑/紧张** → Trent Reznor, 低音弦乐电子音效
4. **动作/追逐** → Junkie XL, 电子乐摇滚，BPM 120-140
5. **忧郁/悲伤** → Max Richter, 大提琴小提琴，小调
6. **科幻/未来** → Vangelis, 合成器电子音乐
7. **恐怖/诡异** → Penderecki, 不和谐弦乐噪音
8. **欢快/轻松** → Acoustic Pop, 流行乐器木管乐
9. **神秘/奇幻** → Howard Shore, 竖琴长笛合唱
10. **都市/现代** → Nujabes, Hip-Hop Lo-fi

**每种包含**：
- BGM类型
- 参考风格/作曲家
- 特点（乐器、节奏、音色）

---

## 🔄 迁移指南

### 从 v2.x 升级到 v3.0

#### 1. 备份现有脚本
```bash
# 备份已完成的v2.x脚本
cp -r examples examples_v2_backup
```

#### 2. 更新仓库
```bash
git pull origin main
```

#### 3. 工作流适应

**v2.x 典型使用**：
```
用户：生成一个咖啡厅对话场景，单场景多视角模式
系统：生成9个景别的独立图片
用户：选择其中3个景别用于视频制作
```

**v3.0 新使用**：
```
用户：生成一个30秒的咖啡厅对话场景
系统：建议6个画面（30秒 ÷ 5秒）
用户：确认
系统：
  画面1/6：咖啡厅外景 → 自动选择EWS（建立环境）
  画面2/6：两人入座 → 自动选择LS（展示人物和空间）
  画面3/6：开始对话 → 自动选择MS（对话场景）
  画面4/6：女主反应 → 自动选择MCU（情绪递进）
  画面5/6：男主表白 → 自动选择CU（关键情绪）
  画面6/6：咖啡杯特写 → 自动选择ECU（象征性细节）
```

#### 4. 兼容性说明

**不兼容变更**：
- 移除了"单场景多视角模式"（9张图网格）
- 移除了"叙事分镜模式"和"单场景模式"的区分
- JSON结构变化：新增scene_number, 移除shot_number字段层级

**保留功能**：
- scene_DNA一致性控制机制
- 图片提示词和视频提示词分离
- 中英双语输出
- Markdown + JSON导出

---

## 💡 最佳实践建议

### 1. 画面数量规划

- **短视频（15-30秒）**：3-6个画面，节奏紧凑
- **常规短片（60秒）**：12个画面，标准节奏
- **长视频（90-120秒）**：18-24个画面，充分叙事

### 2. 信任自动选镜

AI选镜基于专业电影语言规则，通常比手动选择更符合叙事节奏。查看选择理由，学习镜头语言。

### 3. scene_DNA权重管理

- 人物/环境固定特征：1.3-1.5
- 风格特征：1.2-1.4
- 可变元素：0.8-1.0

### 4. 运镜匹配情绪

- 平静场景 → Static
- 紧张递进 → Dolly In (Push In)
- 揭示真相 → Dolly Out (Pull Out)
- 情绪高潮 → Handheld
- 开场/结尾 → Crane/Drone

### 5. 过渡效果选择

- 连续动作 → Cut
- 时间跳跃 → Dissolve
- 章节结束 → Fade Out
- 情绪转折 → Defocus Transition
- 诗意连接 → Match Cut

---

## 📊 性能优化

v3.0 相比 v2.x：
- **生成效率**：逐画面生成，可中断和恢复
- **一致性保证**：scene_DNA贯穿7种景别
- **用户决策负担**：减少90%（自动选镜）
- **输出质量**：每个画面包含完整的运镜/过渡/BGM建议

---

## 🔮 未来规划

### v3.1.0 计划
- [ ] 用户可自定义选镜规则权重
- [ ] 支持导出DaVinci Resolve XML时间线
- [ ] 增加"风格预设"（诺兰风格、王家卫风格等）

### v3.2.0 计划
- [ ] 支持参考图片输入，自动提取scene_DNA
- [ ] 多语言BGM库（中文、日文音乐推荐）
- [ ] 运镜可视化预览（2D/3D示意图）

---

## 📞 支持与反馈

- 🐛 [报告问题](https://github.com/JOZUJIOJIO/cinematic-prompts/issues)
- 💡 [功能建议](https://github.com/JOZUJIOJIO/cinematic-prompts/issues)
- 📖 [完整文档](./skills/cinematic-prompts/prompts/main.md)
- 📝 [更新日志](./CHANGELOG.md)

---

**Cinematic Prompts Generator v3.0**
*专业电影级AI提示词生成器 - 时长驱动 · 智能选镜 · 三层架构*

Made with ❤️ by the community
Powered by Claude Code
